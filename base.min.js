if(!baseJsPrefix)var baseJsPrefix="b-";if(!baseJsDisplayNoneClass)var baseJsDisplayNoneClass="hidden";if(!baseJsCsrfTokenName)var baseJsCsrfTokenName="csrfmiddlewaretoken";function baseJsAddStyles(){let e=document.createElement("style");e.innerText=`.${baseJsDisplayNoneClass} {display: none;} `,e.innerText+="button span, button svg, button i, button img {pointer-events: none;}",document.head.appendChild(e)}async function baseJsRequest(e,s,t,a){let i={method:e.toUpperCase(),credentials:"same-origin",referrerPolicy:"no-referrer"};if("POST"===i.method){t&&(i.body=JSON.stringify(t)),i.headers={"Content-Type":"application/json"};let e=document.querySelector(`[name=${baseJsCsrfTokenName}]`);e&&(i.headers["X-CSRFToken"]=e.value)}a&&document.getElementById(a).classList.remove(baseJsDisplayNoneClass);let l=await fetch(s,i);a&&document.getElementById(a).classList.add(baseJsDisplayNoneClass);let r=l.headers.get("Content-Type");return r&&r.includes("application/json")?await l.json():await l.text()}function baseJsSwap(e,s,t,a){let i=[];if("name="===s.slice(0,5)){let e=s.split("name=")[1];i=document.querySelectorAll(`[name="${e}"]`)}else"this"===s?i.push(e):i=document.querySelectorAll(s);i.forEach((e=>{switch(a){case"inner":e.innerHTML=t;break;case"outer":e.outerHTML=t;break;case"value":e.value=t;break;case"class":e.className=t;break;case"addClass":e.classList.add(t);break;case"removeClass":e.classList.remove(t);break;case"toggleClass":e.classList.toggle(t)}}))}function baseJsAfterRequest(e,s,t,a,i){let l=t.split(","),r=a.split(","),n=i.split(",");for(let t=0;t<l.length;t++){let a=l[t].trim(),i=r[t].trim(),o=n[t].trim(),c=s;"object"==typeof s&&o.split(".").forEach((e=>{c=c[e]})),baseJsSwap(e,a,c,i)}}baseJsAddStyles(),window.addEventListener("click",(function(e){let s,t,a,i,l=e.target,r=l.getAttribute(`${baseJsPrefix}get`),n=l.getAttribute(`${baseJsPrefix}post`),o=l.getAttribute(`${baseJsPrefix}apply`),c=l.getAttribute(`${baseJsPrefix}display`);if((r||n||o)&&(s=l.getAttribute(`${baseJsPrefix}target`),a=l.getAttribute(`${baseJsPrefix}swap`)),(r||n)&&(t=l.getAttribute(`${baseJsPrefix}key`),i=l.getAttribute(`${baseJsPrefix}indicator`)),r)baseJsRequest("get",r,{},i).then((e=>{baseJsAfterRequest(l,e,s,a,t)}));else if(n){let e=l.getAttribute(`${baseJsPrefix}form`),r=[l.children];if(e){let s=this.document.getElementById(e).children;r.push(s)}let o={};r.forEach((e=>{for(let s=0;s<e.length;s++){let t=e[s].name,a=e[s].value;t&&a&&(o[t]=a)}})),baseJsRequest("post",n,o,i).then((e=>{baseJsAfterRequest(e,t,s,a)}))}else if(o){let e=o.split(","),t=s.split(","),i=a.split(",");for(let s=0;s<t.length;s++){let a=e[s].trim(),r=t[s].trim(),n=i[s].trim();baseJsSwap(l,r,a,n)}}else if(c){let e,s=l.getAttribute(`${baseJsPrefix}icon-show`),t=l.getAttribute(`${baseJsPrefix}icon-hide`),a=l.getAttribute(`${baseJsPrefix}icon-location`),i=document.getElementById(c);e=a?document.getElementById(a):l.querySelector("i"),i.classList.contains(baseJsDisplayNoneClass)?(i.classList.remove(baseJsDisplayNoneClass),e&&e.classList.replace(s,t)):(i.classList.add(baseJsDisplayNoneClass),e&&e.classList.replace(t,s))}}));