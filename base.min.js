if(!baseJsPrefix)var baseJsPrefix="b-";if(!baseJsDisplayNoneClass)var baseJsDisplayNoneClass="hidden";if(!baseJsCsrfTokenName)var baseJsCsrfTokenName="csrfmiddlewaretoken";async function baseJsRequest(e,s,t={},a=""){let i={method:e.toUpperCase(),credentials:"same-origin",referrerPolicy:"no-referrer"};if("POST"===i.method){t&&(i.body=JSON.stringify(t)),i.headers={"Content-Type":"application/json"};let e=document.querySelector(`[name=${baseJsCsrfTokenName}]`);e&&(i.headers["X-CSRFToken"]=e.value)}a&&document.getElementById(a).classList.remove(baseJsDisplayNoneClass);let l=await fetch(s,i);a&&document.getElementById(a).classList.add(baseJsDisplayNoneClass);let r=l.headers.get("Content-Type");return r&&r.includes("application/json")?await l.json():await l.text()}function baseJsSwap(e,s,t,a=null){let i=[];if("name="===e.slice(0,5)){let s=e.split("name=")[1];i=document.querySelectorAll(`[name="${s}"]`)}else"this"===e?i.push(a):i=document.querySelectorAll(e);i.forEach((e=>{switch(t){case"inner":e.innerHTML=s;break;case"outer":e.outerHTML=s;break;case"value":e.value=s;break;case"class":e.className=s;break;case"addClass":e.classList.add(s);break;case"removeClass":e.classList.remove(s);break;case"toggleClass":e.classList.toggle(s)}}))}function baseJsAfterRequest(e,s,t,a="",i=null){let l=s.split(","),r=t.split(","),n=a.split(",");for(let s=0;s<l.length;s++){let t=l[s].trim(),a=r[s].trim(),o=n[s].trim(),c=e;"object"==typeof e&&o.split(".").forEach((e=>{c=c[e]})),baseJsSwap(t,c,a,i)}}function baseJsAddStyles(){let e=document.createElement("style");e.innerText=`.${baseJsDisplayNoneClass} {display: none;} `,e.innerText+="button span, button svg, button i, button img {pointer-events: none;}",document.head.appendChild(e)}baseJsAddStyles(),window.addEventListener("click",(function(e){let s,t,a,i,l=e.target,r=l.getAttribute(`${baseJsPrefix}get`),n=l.getAttribute(`${baseJsPrefix}post`),o=l.getAttribute(`${baseJsPrefix}apply`),c=l.getAttribute(`${baseJsPrefix}display`);if((r||n||o)&&(s=l.getAttribute(`${baseJsPrefix}target`),a=l.getAttribute(`${baseJsPrefix}swap`)),(r||n)&&(t=l.getAttribute(`${baseJsPrefix}key`),i=l.getAttribute(`${baseJsPrefix}indicator`)),r)baseJsRequest("get",r,{},i).then((e=>{baseJsAfterRequest(e,s,a,t,l)}));else if(n){let e=l.getAttribute(`${baseJsPrefix}form`),r=[l.children];if(e){let s=this.document.getElementById(e).children;r.push(s)}let o={};r.forEach((e=>{for(let s=0;s<e.length;s++){let t=e[s].name,a=e[s].value;t&&a&&(o[t]=a)}})),baseJsRequest("post",n,o,i).then((e=>{baseJsAfterRequest(e,s,a,t,l)}))}else if(o){let e=o.split(","),t=s.split(","),i=a.split(",");for(let s=0;s<t.length;s++){let a=e[s].trim();baseJsSwap(t[s].trim(),a,i[s].trim(),l)}}else if(c){let e,s=l.getAttribute(`${baseJsPrefix}icon-show`),t=l.getAttribute(`${baseJsPrefix}icon-hide`),a=l.getAttribute(`${baseJsPrefix}icon-location`),i=document.getElementById(c);e=a?document.getElementById(a):l.querySelector("i"),i.classList.contains(baseJsDisplayNoneClass)?(i.classList.remove(baseJsDisplayNoneClass),e&&e.classList.replace(s,t)):(i.classList.add(baseJsDisplayNoneClass),e&&e.classList.replace(t,s))}}));